/* 이름: astrolabe_init.sql*/
/* 설명 */
/* astrolabe data 를 초기화 */

use astrolabe;
DROP TABLE IF EXISTS PLANET ;
DROP TABLE IF EXISTS SATELITE;
DROP TABLE IF EXISTS OBSERVABLE_TIME;
DROP TABLE IF EXISTS OBSERVATION_SCHEDULE;
DROP TABLE IF EXISTS PARTICIPANTS;

CREATE TABLE PLANET (
	Name VARCHAR(20) PRIMARY KEY,
    Orbital_period_year FLOAT,
    Radius_km FLOAT,
    Distance_au FLOAT
);

CREATE TABLE SATELITE (
	Satelite_name VARCHAR(20) PRIMARY KEY,
    Orbital_period_day FLOAT,
    Radius_km FLOAT,
    Distance_km FLOAT,
    Planet_name VARCHAR(20),
    FOREIGN KEY (Planet_name) REFERENCES PLANET(Name)
);

CREATE TABLE OBSERVABLE_TIME (
	Time_no INTEGER PRIMARY KEY,
    Time DATE,
    Length_day INTEGER,
    Planet_name VARCHAR(20),
    FOREIGN KEY (Planet_name) REFERENCES PLANET(Name)
);

CREATE TABLE OBSERVATION_SCHEDULE (
	Sch_no INTEGER PRIMARY KEY,
    Time DATE,
    Location VARCHAR(50),
    Obs_time_no INTEGER,
    FOREIGN KEY (Obs_time_no) REFERENCES OBSERVABLE_TIME(Time_no)
);

CREATE TABLE PARTICIPANTS (
	Part_no INTEGER PRIMARY KEY,
	Part_name VARCHAR(40),
    Sch_no INTEGER,
    FOREIGN KEY (Sch_no) REFERENCES OBSERVATION_SCHEDULE(Sch_no)
);

INSERT INTO PLANET VALUES('수성', 0.241, 2439.7, 0.39);
INSERT INTO PLANET VALUES('금성', 0.616, 6051.8, 0.72);
INSERT INTO PLANET VALUES('지구', 1.0, 6371, 1.0);
INSERT INTO PLANET VALUES('화성', 1.9, 3390, 1.52);
INSERT INTO PLANET VALUES('목성', 11.9, 69911, 5.2);
INSERT INTO PLANET VALUES('토성', 29.5, 58232, 9.5);
INSERT INTO PLANET VALUES('천왕성', 84, 25362, 19.2);
INSERT INTO PLANET VALUES('해왕성', 165, 24622, 30.1);

INSERT INTO SATELITE VALUES('달', 27.3 , 1738, 384399,'지구');
INSERT INTO SATELITE VALUES('포보스', 0.32, 11.27, 9370, '화성');
INSERT INTO SATELITE VALUES('데이모스', 1.26, 6.2, 23450, '화성');
INSERT INTO SATELITE VALUES('이오', 1.77, 1821.6, 421700, '목성');
INSERT INTO SATELITE VALUES('유로파', 3.55, 1560.8, 670900, '목성');
INSERT INTO SATELITE VALUES('가니메데', 7.16, 2634.1, 1070400, '목성');
INSERT INTO SATELITE VALUES('칼리스토', 16.69, 2410.3, 1882700, '목성');
INSERT INTO SATELITE VALUES('아말테아', 0.5, 83.5, 181000, '목성');
INSERT INTO SATELITE VALUES('타이탄', 15.96, 2575, 1221870, '토성');
INSERT INTO SATELITE VALUES('엔셀라두스',1.37, 252.1, 237948, '토성');
INSERT INTO SATELITE VALUES('테티스', 1.89, 531.1, 294619, '토성');
INSERT INTO SATELITE VALUES('디오네', 2.73, 561.4, 377396, '토성');
INSERT INTO SATELITE VALUES('레아', 4.52, 763.8, 527108, '토성');
INSERT INTO SATELITE VALUES('아리엘', 2.52, 578.9, 191020, '천왕성');
INSERT INTO SATELITE VALUES('움브리엘', 4.14, 584.7, 265970, '천왕성');
INSERT INTO SATELITE VALUES('티타니아', 8.71, 788.4, 435480, '천왕성');
INSERT INTO SATELITE VALUES('오베론', 13.46, 761.4, 583520, '천왕성');
INSERT INTO SATELITE VALUES('미란다', 1.41, 235.8, 129390, '천왕성');
INSERT INTO SATELITE VALUES('트리톤', 5.88, 1353.4, 354759, '해왕성');
INSERT INTO SATELITE VALUES('네레이드', 360.14, 170, 5513818, '해왕성');
INSERT INTO SATELITE VALUES('나이아드', 0.30, 33, 48224, '해왕성');
INSERT INTO SATELITE VALUES('탈라사', 0.31, 41, 50074, '해왕성');
INSERT INTO SATELITE VALUES('데스피나', 0.34, 78, 52526, '해왕성');

INSERT INTO OBSERVABLE_TIME VALUES(1, STR_TO_DATE('2023-06-02','%Y-%m-%d'), 31,'수성');
INSERT INTO OBSERVABLE_TIME VALUES(2, STR_TO_DATE('2023-08-01','%Y-%m-%d'), 45,'수성');
INSERT INTO OBSERVABLE_TIME VALUES(3, STR_TO_DATE('2023-12-07','%Y-%m-%d'), 24,'수성');
INSERT INTO OBSERVABLE_TIME VALUES(1, STR_TO_DATE('2022-12-23','%Y-%m-%d'), 191,'금성');